{"id":"0d407a51-0054-4bbd-b6b1-354f1ca045c0","revision":0,"last_node_id":435,"last_link_id":789,"nodes":[{"id":241,"type":"Note","pos":[120.3216114507663,2107.576421183048],"size":[514.0927586594195,126.42592276344385],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"title":"FBX Info","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["Here you need to set your path to your FBX.\nAlso set your path to Blender.exe . IMPORTANT>. Only use Blender 3.6 not older. It may work on newer versions of Blender, but untested. You will never need to open Blender, the node does all the calls to it silently.\nFPS target is mainly unsed, its really there for automatically calculatingf Frame step (output) should you want to connect it, but Im sure you know what if the input is 30fps and wan processes at 16 fps, then step count is nearly always 2. Its there incase you dont use wan 4step, so you can set it to 24, but also allows 30 for future proofing."],"color":"#222","bgcolor":"#000"},{"id":234,"type":"Note","pos":[-606.6820222314277,1202.0489255207895],"size":[668.3739128818805,128.02286439682712],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"title":"Frame Info","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["This tells you what frames its capturing from the FBX and the settings you placed in the FBX_Extraction node.\nThis is useful should your frame differences be too large, the animation will feel like its running quickly, try to keep to 2-3 frames apart\nThe rest of the info is just the bones structure it obtained from the FBX, which is then used to manipulate with the Camera director for rotation and zoom\n You should always have this Show Any, so you can see whats going on."],"color":"#222","bgcolor":"#000"},{"id":180,"type":"Wan22FunControlToVideo","pos":[1326.1316962571416,784.6544595306667],"size":[270,210],"flags":{},"order":39,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":318},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":319},{"localized_name":"vae","name":"vae","type":"VAE","link":320},{"localized_name":"ref_image","name":"ref_image","shape":7,"type":"IMAGE","link":321},{"localized_name":"control_video","name":"control_video","shape":7,"type":"IMAGE","link":786},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":400},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":401},{"localized_name":"length","name":"length","type":"INT","widget":{"name":"length"},"link":354},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","links":[304,312]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":[305,313]},{"localized_name":"latent","name":"latent","type":"LATENT","links":[306]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"Wan22FunControlToVideo","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"widget_ue_connectable":{"width":true,"height":true,"length":true,"batch_size":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[768,768,81,1]},{"id":207,"type":"easy cleanGpuUsed","pos":[2059.2728810548515,1074.7921622801666],"size":[157.3892578125,26],"flags":{},"order":42,"mode":0,"inputs":[{"localized_name":"anything","name":"anything","type":"*","link":364}],"outputs":[{"localized_name":"output","name":"output","type":"*","links":null}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.3.4","Node name for S&R":"easy cleanGpuUsed","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[]},{"id":164,"type":"VAEDecode","pos":[1743.0197844149925,1053.6625927544258],"size":[210,46],"flags":{},"order":36,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":301},{"localized_name":"vae","name":"vae","type":"VAE","link":302}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[364,779]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.45","Node name for S&R":"VAEDecode","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[]},{"id":308,"type":"Note","pos":[2444.1998513915364,520.5079024074234],"size":[419.23468816739705,480.8655724420008],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[],"title":"W A R N I N G  ! !","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["EVERY SINGLE NODE IN THE SUBGRPAH SHOULD NOT BE ALTERED.\n\nBY ALL MEANS LOOK AT IT, BUT IF YOU CHANGE JUST 1 SINGLE NODE VALUE THE WHOLE FLOW FAILS.\n\nTHERE IS NOTHING EXCITING IN THERE OTHER THAN SOME RESZING OF IMAGE LISTS FOR THE ANIMATION. \n\nNOTHING IN THERE WILL CHANGE ANY VIDEO QUALITY, VIDEO SIZE ETC. ITS JUST BORING MATH STUFF.\n\n\n******************************\n*        DO\n*\n*        NOT\n*\n*        CHANGE\n*\n*        THE\n*\n*        IMAGE\n******************************\n"],"color":"#322","bgcolor":"#533"},{"id":285,"type":"Note","pos":[3145.516637758875,532.1589779280698],"size":[419.23468816739705,480.8655724420008],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[],"title":"W A R N I N G  ! !","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["EVERY SINGLE NODE IN THE SUBGRPAH SHOULD NOT BE ALTERED.\n\nBY ALL MEANS LOOK AT IT, BUT IF YOU CHANGE JUST 1 SINGLE NODE VALUE THE WHOLE FLOW FAILS.\n\nTHERE IS NOTHING EXCITING IN THERE OTHER THAN SOME RESZING OF IMAGE LISTS FOR THE ANIMATION. \n\nNOTHING IN THERE WILL CHANGE ANY VIDEO QUALITY, VIDEO SIZE ETC. ITS JUST BORING MATH STUFF.\n\n\n******************************\n*        DO\n*\n*        NOT\n*\n*        CHANGE\n*\n*        THE\n*\n*        IMAGE\n******************************\n"],"color":"#322","bgcolor":"#533"},{"id":246,"type":"PreviewAnimation","pos":[1193.220556889607,2062.8107831696057],"size":[522.2371945110369,508.6328059868208],"flags":{},"order":46,"mode":0,"inputs":[{"localized_name":"images","name":"images","shape":7,"type":"IMAGE","link":781},{"localized_name":"masks","name":"masks","shape":7,"type":"MASK","link":null},{"localized_name":"fps","name":"fps","type":"FLOAT","widget":{"name":"fps"},"link":null}],"outputs":[],"title":"Preview Animation 81x768x768","properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.9","Node name for S&R":"PreviewAnimation","ue_properties":{"widget_ue_connectable":{"fps":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[16]},{"id":169,"type":"KSamplerAdvanced","pos":[1651.3960005186173,444.7958152521715],"size":[304.748046875,558],"flags":{},"order":37,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":303},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":304},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":305},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":306},{"localized_name":"add_noise","name":"add_noise","type":"COMBO","widget":{"name":"add_noise"},"link":null},{"localized_name":"noise_seed","name":"noise_seed","type":"INT","widget":{"name":"noise_seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"start_at_step","name":"start_at_step","type":"INT","widget":{"name":"start_at_step"},"link":null},{"localized_name":"end_at_step","name":"end_at_step","type":"INT","widget":{"name":"end_at_step"},"link":null},{"localized_name":"return_with_leftover_noise","name":"return_with_leftover_noise","type":"COMBO","widget":{"name":"return_with_leftover_noise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[314]}],"title":"HIGH KSampler (Advanced)","properties":{"cnr_id":"comfy-core","ver":"0.3.45","Node name for S&R":"KSamplerAdvanced","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["enable",384489236031887,"randomize",4,1.2,"euler","simple",0,2,"enable"],"color":"#233","bgcolor":"#355"},{"id":175,"type":"KSamplerAdvanced","pos":[1976.7897828556402,448.52534946267326],"size":[300,558],"flags":{},"order":38,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":311},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":312},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":313},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":314},{"localized_name":"add_noise","name":"add_noise","type":"COMBO","widget":{"name":"add_noise"},"link":null},{"localized_name":"noise_seed","name":"noise_seed","type":"INT","widget":{"name":"noise_seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"start_at_step","name":"start_at_step","type":"INT","widget":{"name":"start_at_step"},"link":null},{"localized_name":"end_at_step","name":"end_at_step","type":"INT","widget":{"name":"end_at_step"},"link":null},{"localized_name":"return_with_leftover_noise","name":"return_with_leftover_noise","type":"COMBO","widget":{"name":"return_with_leftover_noise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[301]}],"title":"LOW KSampler (Advanced)","properties":{"cnr_id":"comfy-core","ver":"0.3.45","Node name for S&R":"KSamplerAdvanced","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["disable",0,"fixed",4,1.2,"euler","simple",2,4,"disable"],"color":"#233","bgcolor":"#355"},{"id":432,"type":"f1f4e664-3b51-448b-a930-531bf46dc57b","pos":[2873.407432515189,630.2803647835244],"size":[259.13671875,226],"flags":{},"order":51,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":775},{"localized_name":"image","name":"image","type":"IMAGE","link":776},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":777},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":778},{"localized_name":"images_1","name":"images_1","type":"IMAGE","link":779},{"localized_name":"resolution","name":"resolution","type":"INT","widget":{"name":"resolution"},"link":780}],"outputs":[{"localized_name":"OpenPose with Background","name":"OpenPose with Background","type":"IMAGE","links":[781]},{"localized_name":"OpenPose with Background_1","name":"OpenPose with Background_1","type":"IMAGE","links":[782]},{"localized_name":"images","name":"images","type":"IMAGE","links":[783,784]},{"localized_name":"OpenPose only","name":"OpenPose only","type":"IMAGE","links":[785]},{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[786]},{"localized_name":"IMAGE_1","name":"IMAGE_1","type":"IMAGE","links":[787]},{"localized_name":"VIDEO","name":"VIDEO","type":"VIDEO","links":[788]}],"properties":{"proxyWidgets":[["-1","width"],["-1","height"],["-1","resolution"]],"cnr_id":"comfy-core","ver":"0.3.77","ue_properties":{"widget_ue_connectable":{"width":true,"height":true},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":[0,0,1024],"color":"#322","bgcolor":"#533"},{"id":252,"type":"Note","pos":[87.82996975895631,112.99410459115859],"size":[4194.364633263859,166.31433194223257],"flags":{},"order":13,"mode":0,"inputs":[],"outputs":[],"title":"CAVEATS","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["This FBX project suffers from the same issue as OpenPose when trying to map 3D data and 2D image.\n90 degrees left/right is fine, after that its random if you will get a face on the back of someones head\n\nOnly tested on Windows 11, Blender 3.6, Comfyui portable version as of 10th December 2025\n\nI do not have Linux, but if someone wants to change the code to get it working, feel free\n\nPlease do not ask for support for Linux, I will never install it.\n\nProbably wont work on Cloud due to Blender requirements. \nI was going to use the Autodesk FBX SDK, however, they appear to have removed Python from support, even on older downloads."],"color":"#222","bgcolor":"#000"},{"id":178,"type":"LoadImage","pos":[107.07366584563725,1237.4169133260618],"size":[546.7009670984801,521.484648514504],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[321,397,776]},{"localized_name":"MASK","name":"MASK","type":"MASK","slot_index":1,"links":null}],"title":"Reference Image - STEP 1 :    Load an image","properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"LoadImage","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["ComfyUI_00124_.png","image"],"color":"#232","bgcolor":"#353"},{"id":188,"type":"FBX_Extraction","pos":[703.0986779376184,1240.9575103465866],"size":[427.02962550607117,505.86365181046995],"flags":{},"order":41,"mode":0,"inputs":[{"localized_name":"Ref_Pose_Image","name":"Ref_Pose_Image","shape":7,"type":"IMAGE","link":767},{"localized_name":"Blender_Executable","name":"Blender_Executable","type":"STRING","widget":{"name":"Blender_Executable"},"link":337},{"localized_name":"FBX_File","name":"FBX_File","type":"STRING","widget":{"name":"FBX_File"},"link":338},{"localized_name":"Frame_Mode","name":"Frame_Mode","type":"COMBO","widget":{"name":"Frame_Mode"},"link":null},{"localized_name":"Num_Frames","name":"Num_Frames","type":"INT","widget":{"name":"Num_Frames"},"link":349},{"localized_name":"Start_Frame","name":"Start_Frame","type":"INT","widget":{"name":"Start_Frame"},"link":null},{"localized_name":"End_Frame","name":"End_Frame","type":"INT","widget":{"name":"End_Frame"},"link":null},{"localized_name":"Frame_Step","name":"Frame_Step","type":"INT","widget":{"name":"Frame_Step"},"link":null},{"localized_name":"Output_Width","name":"Output_Width","type":"INT","widget":{"name":"Output_Width"},"link":398},{"localized_name":"Output_Height","name":"Output_Height","type":"INT","widget":{"name":"Output_Height"},"link":399},{"localized_name":"Camera_View","name":"Camera_View","type":"COMBO","widget":{"name":"Camera_View"},"link":null},{"localized_name":"Projection_Mode","name":"Projection_Mode","type":"COMBO","widget":{"name":"Projection_Mode"},"link":null},{"localized_name":"Color_Mode","name":"Color_Mode","type":"COMBO","widget":{"name":"Color_Mode"},"link":null},{"localized_name":"Face_Mode","name":"Face_Mode","type":"COMBO","widget":{"name":"Face_Mode"},"link":null},{"localized_name":"Joint_Size","name":"Joint_Size","type":"INT","widget":{"name":"Joint_Size"},"link":null},{"localized_name":"Line_Thickness","name":"Line_Thickness","type":"INT","widget":{"name":"Line_Thickness"},"link":null},{"localized_name":"Zoom_Factor","name":"Zoom_Factor","type":"FLOAT","widget":{"name":"Zoom_Factor"},"link":null},{"localized_name":"Alignment_Mode","name":"Alignment_Mode","type":"COMBO","widget":{"name":"Alignment_Mode"},"link":null},{"localized_name":"Cam_In","name":"Cam_In","shape":7,"type":"STRING","widget":{"name":"Cam_In"},"link":339}],"outputs":[{"localized_name":"Pose_Images","name":"Pose_Images","type":"IMAGE","links":[775]},{"localized_name":"Frame_Info","name":"Frame_Info","type":"STRING","links":[394]}],"title":"FBX_Extraction  - STEP 3 :  Setup your animation","properties":{"Node name for S&R":"FBX_Extraction","ue_properties":{"widget_ue_connectable":{"Blender_Executable":true,"FBX_File":true,"Frame_Mode":true,"Num_Frames":true,"Start_Frame":true,"End_Frame":true,"Frame_Step":true,"Output_Width":true,"Output_Height":true,"Camera_View":true,"Projection_Mode":true,"Color_Mode":true,"Face_Mode":true,"Joint_Size":true,"Line_Thickness":true,"Zoom_Factor":true,"Alignment_Mode":true,"Cam_In":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["C:\\Program Files\\Blender Foundation\\Blender 3.6\\blender.exe","","Frame_Range",81,0,500,1,768,768,"Front","Perspective (Experimental)","ControlNet Colors","Full Face (FACE_70)",1,1,1,"Match Full Body",""],"color":"#232","bgcolor":"#353"},{"id":235,"type":"Note","pos":[665.5708519494289,1784.182625481577],"size":[210,165.64510063298758],"flags":{},"order":17,"mode":0,"inputs":[],"outputs":[],"title":"FBX Info","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["THis tell you the FPS of the FBX, frame count etc. This is important because if you load a 1000 frame animation and use \"Frame_Spread_TotalAnim\", it wil spread your frame length you set over 1000 frames. So think about your start and end frames, step frames and frame captured\n You should always have this Show Any, so you can see whats going on."],"color":"#222","bgcolor":"#000"},{"id":190,"type":"easy showAnything","pos":[908.9576113403558,1797.253628845487],"size":[215.4720603492268,137.9451923142385],"flags":{},"order":30,"mode":0,"inputs":[{"localized_name":"anything","name":"anything","shape":7,"type":"*","link":340}],"outputs":[{"localized_name":"output","name":"output","type":"*","links":null}],"title":"FBX Info","properties":{"cnr_id":"comfyui-easy-use","ver":"1.3.4","Node name for S&R":"easy showAnything","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.4.1"}},"widgets_values":["FPS=30.0\nFrame Count=164\nSkinned=False\nFBX Version=7700\nExported By=Mixamo\nMotionType=RootMotion"],"color":"#232","bgcolor":"#353"},{"id":242,"type":"FBX_ImageResInfo","pos":[661.2745834131875,2118.312067562333],"size":[270,406],"flags":{},"order":28,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":397},{"localized_name":"resize_mode","name":"resize_mode","type":"COMBO","widget":{"name":"resize_mode"},"link":null},{"localized_name":"target_width","name":"target_width","type":"INT","widget":{"name":"target_width"},"link":null},{"localized_name":"target_height","name":"target_height","type":"INT","widget":{"name":"target_height"},"link":null}],"outputs":[{"localized_name":"smallest","name":"smallest","type":"INT","links":null},{"localized_name":"largest","name":"largest","type":"INT","links":null},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null},{"localized_name":"resized_smallest","name":"resized_smallest","type":"INT","links":null},{"localized_name":"resized_largest","name":"resized_largest","type":"INT","links":[780]},{"localized_name":"batch","name":"batch","type":"INT","links":null},{"localized_name":"channels","name":"channels","type":"INT","links":null},{"localized_name":"aspect","name":"aspect","type":"FLOAT","links":null},{"localized_name":"portrait_Boolean","name":"portrait_Boolean","type":"BOOL","links":null},{"localized_name":"landscape_Boolean","name":"landscape_Boolean","type":"BOOL","links":null},{"localized_name":"square_Boolean","name":"square_Boolean","type":"BOOL","links":null},{"localized_name":"resized_width_Div2","name":"resized_width_Div2","type":"INT","links":null},{"localized_name":"resized_height_Div2","name":"resized_height_Div2","type":"INT","links":null},{"localized_name":"resized_width_Div16","name":"resized_width_Div16","type":"INT","links":[398,400,777]},{"localized_name":"resized_height_Div16","name":"resized_height_Div16","type":"INT","links":[399,401,778]}],"properties":{"Node name for S&R":"FBX_ImageResInfo","ue_properties":{"widget_ue_connectable":{"resize_mode":true,"target_width":true,"target_height":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["By Height",640,768],"color":"#232","bgcolor":"#353"},{"id":243,"type":"Note","pos":[937.1581471451182,2166.854220561213],"size":[210,318.8399239680921],"flags":{},"order":18,"mode":0,"inputs":[],"outputs":[],"title":"FBX_ImageResInfo","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["OVER HERE!\n\n\nSet your Frame Length in the node below the FBX_ImageResInfo node.\n\nFBX_ImageResInfo:\nThis will take the image in and calculate the Resized Width Height you enter into it.  The Resized out is automatically adjusted to be divisible by 16 which WAN needs.\n\nYou just need to resize by Width or Height, the node will work out aspect ratios for you.\n\n\n\n\n"],"color":"#222","bgcolor":"#000"},{"id":422,"type":"ImagePass","pos":[982.0411312454738,2072.0930283987627],"size":[140,26],"flags":{"collapsed":true},"order":49,"mode":2,"inputs":[{"localized_name":"image","name":"image","shape":7,"type":"IMAGE","link":787}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[767]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.9","Node name for S&R":"ImagePass","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[]},{"id":369,"type":"Fast Groups Muter (rgthree)","pos":[1179.4588317761163,1753.744094153065],"size":[497.35287494026113,70.2418140476143],"flags":{},"order":19,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null}],"title":"1st Image Ref Pose : STEP 4 Set your Pose Scaling","properties":{"matchColors":"","matchTitle":"Pose","showNav":true,"showAllGraphs":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"color":"#232","bgcolor":"#353"},{"id":256,"type":"Fast Groups Muter (rgthree)","pos":[1178.6035277184367,1886.7388708011802],"size":[248.17632749441282,59.35909504646975],"flags":{},"order":20,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null}],"title":"Enable Video Generation","properties":{"matchColors":"yellow","matchTitle":"","showNav":true,"showAllGraphs":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"color":"#323","bgcolor":"#535"},{"id":191,"type":"easy int","pos":[1450.537051650883,1886.1925965919227],"size":[212.95922146949874,58],"flags":{},"order":21,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"INT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"int","name":"int","type":"INT","links":[336,349,354]}],"title":"Frame Length","properties":{"cnr_id":"comfyui-easy-use","ver":"1.3.4","Node name for S&R":"easy int","ue_properties":{"widget_ue_connectable":{"value":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[81],"color":"#232","bgcolor":"#353"},{"id":187,"type":"FBX_CameraDirector","pos":[1160.0626090733617,1243.0100336111343],"size":[571.3820275691373,450.91603456317216],"flags":{},"order":29,"mode":0,"inputs":[{"localized_name":"Num_Frames_Default","name":"Num_Frames_Default","type":"INT","widget":{"name":"Num_Frames_Default"},"link":336},{"localized_name":"Rotation","name":"Rotation","type":"STRING","widget":{"name":"Rotation"},"link":null},{"localized_name":"Zoom","name":"Zoom","type":"STRING","widget":{"name":"Zoom"},"link":null}],"outputs":[{"localized_name":"Cam_Out","name":"Cam_Out","type":"STRING","links":[339]},{"localized_name":"Debug_Out","name":"Debug_Out","type":"STRING","links":[789]}],"title":"FBX Camera Director - STEP 5 :  Either Reset or set your Keyframe manipulation","properties":{"Node name for S&R":"FBX_CameraDirector","ue_properties":{"widget_ue_connectable":{"Num_Frames_Default":true,"Rotation":true,"Zoom":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[81,"# Rotation keys (frame, value) - Leave this line here, it will be ignored\n# If you load a new FBX, remember to reset the rotation and zoom to 0,0 and 80,0\n#if you are producing longer frames than 81, remeber to set the last frame to the\n# frame length-1 eg. 81 frames last frame is 80\n\n0, 5\n80, 5","# Zoom keys (frame, value)- Leave this line here, it will be ignored\n# If you load a new FBX, remember to reset the rotation and zoom to 0,0 and 80,0\n#if you are producing longer frames than 81, remeber to set the last frame to the\n# frame length-1 eg. 81 frames last frame is 80\n\n0, 0.8\n80, 0.8\n\n"],"color":"#232","bgcolor":"#353"},{"id":220,"type":"Note","pos":[135.43688092700387,2283.0813438214573],"size":[497.2494040240041,285.224829821841],"flags":{},"order":22,"mode":0,"inputs":[],"outputs":[],"title":"FBX List","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["I normnal just keep a list of FBX animations here.\ne.g\nC:\\test\\Mixamo\\Injured Walk.fbx"],"color":"#432","bgcolor":"#653"},{"id":189,"type":"FBX_Info","pos":[111.60482052709094,1818.0894694331391],"size":[522.0031505547724,246],"flags":{},"order":23,"mode":0,"inputs":[{"localized_name":"fbx_path","name":"fbx_path","type":"STRING","widget":{"name":"fbx_path"},"link":null},{"localized_name":"blender_path","name":"blender_path","type":"STRING","widget":{"name":"blender_path"},"link":null},{"localized_name":"video_fps_target","name":"video_fps_target","type":"COMBO","widget":{"name":"video_fps_target"},"link":null}],"outputs":[{"localized_name":"fps","name":"fps","type":"FLOAT","links":null},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":[]},{"localized_name":"skinned","name":"skinned","type":"BOOLEAN","links":null},{"localized_name":"fbx_out","name":"fbx_out","type":"STRING","links":[338]},{"localized_name":"blender_out","name":"blender_out","type":"STRING","links":[337]},{"localized_name":"text_debug","name":"text_debug","type":"STRING","links":[340]},{"localized_name":"suggested_frame_step","name":"suggested_frame_step","type":"INT","links":null},{"localized_name":"root_motion","name":"root_motion","type":"BOOLEAN","links":null}],"title":"FBX Info - STEP 2 :  Set your FBX and Blender location","properties":{"Node name for S&R":"FBX_Info","ue_properties":{"widget_ue_connectable":{"fbx_path":true,"blender_path":true,"video_fps_target":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["C:\\test\\Mixamo\\Injured Walk.fbx","C:\\Program Files\\Blender Foundation\\Blender 3.6\\blender.exe","16"],"color":"#232","bgcolor":"#353"},{"id":184,"type":"VHS_VideoCombine","pos":[3757.613394493318,1338.8762121312552],"size":[698.9811829334594,1026.9811829334594],"flags":{},"order":40,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":502},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":null},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null},{"name":"pix_fmt","type":["yuv420p","p010le"],"widget":{"name":"pix_fmt"},"link":null},{"name":"bitrate","type":"INT","widget":{"name":"bitrate"},"link":null},{"name":"megabit","type":"BOOLEAN","widget":{"name":"megabit"},"link":null},{"name":"save_metadata","type":"BOOLEAN","widget":{"name":"save_metadata"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"title":"FINAL VIDEO","properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.7.4","Node name for S&R":"VHS_VideoCombine","ue_properties":{"widget_ue_connectable":{"frame_rate":true,"loop_count":true,"filename_prefix":true,"format":true,"pingpong":true,"save_output":true,"pix_fmt":true,"bitrate":true,"megabit":true,"save_metadata":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":{"frame_rate":32,"loop_count":0,"filename_prefix":"_Demo","format":"video/nvenc_hevc-mp4","pix_fmt":"yuv420p","bitrate":14,"megabit":true,"save_metadata":false,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"_Demo_00033.mp4","subfolder":"","type":"output","format":"video/nvenc_hevc-mp4","frame_rate":32,"workflow":"_Demo_00033.png","fullpath":"G:\\__ComfyUIModels\\outputs\\_Demo_00033.mp4"}}}},{"id":212,"type":"VHS_VideoCombine","pos":[3008.5316630564894,1341.2862207807007],"size":[720.619672703609,1048.619672703609],"flags":{},"order":43,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":782},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":null},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null},{"name":"pix_fmt","type":["yuv420p","p010le"],"widget":{"name":"pix_fmt"},"link":null},{"name":"bitrate","type":"INT","widget":{"name":"bitrate"},"link":null},{"name":"megabit","type":"BOOLEAN","widget":{"name":"megabit"},"link":null},{"name":"save_metadata","type":"BOOLEAN","widget":{"name":"save_metadata"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"title":"OPENPOSE  ON  TOP  OF  FINAL","properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.7.4","Node name for S&R":"VHS_VideoCombine","ue_properties":{"widget_ue_connectable":{"frame_rate":true,"loop_count":true,"filename_prefix":true,"format":true,"pingpong":true,"save_output":true,"pix_fmt":true,"bitrate":true,"megabit":true,"save_metadata":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":{"frame_rate":16,"loop_count":0,"filename_prefix":"_Demo","format":"video/nvenc_hevc-mp4","pix_fmt":"yuv420p","bitrate":14,"megabit":true,"save_metadata":false,"pingpong":false,"save_output":false,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"_Demo_00002.mp4","subfolder":"","type":"temp","format":"video/nvenc_hevc-mp4","frame_rate":16,"workflow":"_Demo_00002.png","fullpath":"G:\\_AiApps\\ComfyUI_portable\\ComfyUI\\temp\\_Demo_00002.mp4"}}}},{"id":428,"type":"SaveVideo","pos":[2309.6750211709045,1482.630890767195],"size":[679.479384678486,1050.4656020798209],"flags":{},"order":50,"mode":4,"inputs":[{"localized_name":"video","name":"video","type":"VIDEO","link":788},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"codec","name":"codec","type":"COMBO","widget":{"name":"codec"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.77","Node name for S&R":"SaveVideo","ue_properties":{"widget_ue_connectable":{"filename_prefix":true,"format":true,"codec":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["video/ComfyUI","mp4","h264"]},{"id":434,"type":"Note","pos":[2282.460566369745,1347.086394225232],"size":[711.9325585675392,88],"flags":{},"order":15,"mode":0,"inputs":[],"outputs":[],"title":"Preview","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["\nI normally only enable this if I want to fine tune the animation, so I can see that frame number i want to reference.\n\n\n"],"color":"#222","bgcolor":"#000"},{"id":249,"type":"Note","pos":[1762.541812645558,1386.1891379549809],"size":[461.02125529008845,1215.489198697672],"flags":{},"order":12,"mode":0,"inputs":[],"outputs":[],"title":"FBX Camera Director","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["Where do we start! I would always advise to disable the Wan22FunControlToVideo until you are happy with the animation, then re-enable it to generate the video\n\nThere are two main controls, rotation and zoom.\n\nWith rotation, if the FBX animation is 'InPlace' the rotation will rotation the OpenPose in an orbital basis where the FBX skeleton is the center of the pivot. so you are rotating on X0 Y0 of the object (assuming the fbx was created properly)\n\nIf the FBX animation is a root, the pivot point is offset to the further distance of the animation from X0 Y), which means the slightest change in rotation values will manifest in perceived larger rotation depending on how fat the animation has moved from X0Y0. \nSo because the rotation works on degrees, 5 Degrees change can on a root anim where the skeleton is only 5m away from X0 Y0, may result in a small rotation, but if the anim is 30m away from X0Y0, the that same 5 degrees will move the animation alot more than thr 5m one. There is a Pivot.png in the Images folder of this custom node that may explain it better!\n\nZoom is just what it says it is. 1.0 is the scale set as the default size in the Apose Image. The size of the person may vary on screen, but no matter their size, they will always be 1.0. A 0.1 increment either negative or positive is essential 10% of the original size, so of you zoom to -0.1, you are effectively shrinking by 90%.  If you want to disable the scale then set \"Use 1st Image Ref Pose\" Node to 'No' (purple color node)\n\nBoth work by Frame number then a , (comma) then a value\n\nRules. There are inbuilt restrictions that will prevent the animation from changing.\n1. You cannot have negative frame numbers\n2. Frame numbers MUST be sequential\n3. The last frame must be the number of frames -1, so on an 81 frame animation, your last frame number you can use is 80.\n4. Rotation (top multine) is the value is degrees and go from -60 to 60\n5. Zoom works on %, so 0.1 is a 10% change. Remember you are zooming the animation, not the camera.\n\nIf you want a more 3D perspective feeling to root motion, use Perspective (Experimental) in the Projection mode.\n\nYou can add as many frame changes as you want\ne.g for rotation you can do\n0, 0\n30, 20\n50, -20\n70, -20\n80, 5\n\nWhat this means is that from frame 0 to 30 it will rotate evenly from 0 to 20 degrees, then from 30 to 50, it will evenly rotate from 20 to -20 degrees (40 degree change). Then from 50 to 70 it wont rotate as the values are the same and then from 70 to 90 it will rotate from -20 to positive 5 degrees\n\n\n\n\nDefaults: \nCamera View: Front\nProjection Mode: Perspective\nColor Mode: ControNet Colors\nFace Mode: Full Face\nJoint Size: 2\nBone Thick: 1\nZoom Factor: 1  (this is increase you dont connect the camera node, it offers basic control)\nAlignment Mode: Match Full Body\n\nStart Frame: The frame number you want to capture from\nEnd Frame: End last frame you want to capture from.\n\n\"Frame Range\" will calculate the frames between the start frame to the number of frames in the video length, so if you set you Frame Length to 81, it will capture 81 frames from the Start frame. \n\nHowever, if you change the Step from 1 to 2, it will capture from 81 frames every 2nd frame, so effectively 0 to 160 step 2.\n\nFrame_Spread_TotalAnim:  This will evenly capture the  frame from Start to End. So I load a 227 frame animation and select Frame_Spread_TotalAnim, is will evenly calculate the frames over that 227 regardless of what you put in Frame_Step..\ne.g\n\"frame_indices\": [1, 4, 7, 9, 12, 15, 18, 21, 24, 26, 29, 32, 35, 38, 41, 43, 46, 49, 52, 55, 57, 60, 63, 66, 69, 72, 74, 77, 80, 83, 86, 89, 91, 94, 97, 100, 103, 106, 108, 111, 114, 117, 120, 122, 125, 128, 131, 134, 137, 139, 142, 145, 148, 151, 154, 156, 159, 162, 165, 168, 171, 173, 176, 179, 182, 185, 187, 190, 193, 196, 199, 202, 204, 207, 210, 213, 216, 219, 221, 224, 227]\n\n\nYou have to be conscious of that although it was 81 frames, the large changes in frames will mean it will play back really fast, so make you keep an eye on the total frames in the anim and your Frame_End. If I adjust the Frame_End to 180, you then get this.\n[1, 3, 5, 8, 10, 12, 14, 17, 19, 21, 23, 26, 28, 30, 32, 35, 37, 39, 41, 44, 46, 48, 50, 52, 55, 57, 59, 61, 64, 66, 68, 70, 73, 75, 77, 79, 82, 84, 86, 88, 91, 93, 95, 97, 99, 102, 104, 106, 108, 111, 113, 115, 117, 120, 122, 124, 126, 129, 131, 133, 135, 137, 140, 142, 144, 146, 149, 151, 153, 155, 158, 160, 162, 164, 167, 169, 171, 173, 176, 178, 180]"],"color":"#222","bgcolor":"#000"},{"id":435,"type":"easy showAnything","pos":[1777.115217104511,1248.129173500676],"size":[426.5889364041632,88],"flags":{},"order":33,"mode":0,"inputs":[{"localized_name":"anything","name":"anything","shape":7,"type":"*","link":789}],"outputs":[{"localized_name":"output","name":"output","type":"*","links":null}],"title":"Camera Director Validation","properties":{"ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.4.1"},"cnr_id":"comfyui-easy-use","ver":"1.3.4","Node name for S&R":"easy showAnything"},"widgets_values":["Data construct is fine"]},{"id":245,"type":"Note","pos":[1026.0484301236318,743.72164633716],"size":[210,301.5982588956483],"flags":{},"order":10,"mode":0,"inputs":[],"outputs":[],"title":"PROMPTS !","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["Even though the Animation will drive what happens to the person, you still need to put some info in here about what the person is doing and what is happening around them."],"color":"#222","bgcolor":"#000"},{"id":186,"type":"PathchSageAttentionKJ","pos":[1063.4095778067688,536.6806028280226],"size":[270,58],"flags":{},"order":31,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":332},{"localized_name":"sage_attention","name":"sage_attention","type":"COMBO","widget":{"name":"sage_attention"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[333]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.3","Node name for S&R":"PathchSageAttentionKJ","ue_properties":{"widget_ue_connectable":{"sage_attention":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["auto"],"color":"#233","bgcolor":"#355"},{"id":185,"type":"PathchSageAttentionKJ","pos":[1065.2810849957423,637.2485922111179],"size":[270,58],"flags":{},"order":32,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":335},{"localized_name":"sage_attention","name":"sage_attention","type":"COMBO","widget":{"name":"sage_attention"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[334]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.3","Node name for S&R":"PathchSageAttentionKJ","ue_properties":{"widget_ue_connectable":{"sage_attention":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["auto"],"color":"#233","bgcolor":"#355"},{"id":182,"type":"LoraLoaderModelOnly","pos":[577.466953835289,621.0861589464188],"size":[460.0893358567703,82],"flags":{},"order":25,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":325},{"localized_name":"lora_name","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"strength_model","name":"strength_model","type":"FLOAT","widget":{"name":"strength_model"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[335]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"LoraLoaderModelOnly","models":[{"name":"wan2.2_i2v_lightx2v_4steps_lora_v1_low_noise.safetensors","url":"https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/loras/wan2.2_i2v_lightx2v_4steps_lora_v1_low_noise.safetensors","directory":"loras"}],"enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"widget_ue_connectable":{"lora_name":true,"strength_model":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["WAN\\wan2.2_i2v_lightx2v_4steps_lora_v1_low_noise.safetensors",1],"color":"#233","bgcolor":"#355"},{"id":179,"type":"CLIPTextEncode","pos":[588.0585859661593,762.2426796329019],"size":[422.84503173828125,164.31304931640625],"flags":{},"order":27,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":317},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[318]}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.45","Node name for S&R":"CLIPTextEncode","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["a woman is running towards, the camera (zoom out:4.3) constantly, she is injured with blood on a leg, "],"color":"#232","bgcolor":"#353"},{"id":162,"type":"CLIPTextEncode","pos":[590.5517073176029,976.156897331279],"size":[417.61717874219903,106.18589002168517],"flags":{},"order":26,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":299},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[319]}],"title":"CLIP Text Encode (Negative Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.45","Node name for S&R":"CLIPTextEncode","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["looking at the camera, 2 people"],"color":"#232","bgcolor":"#353"},{"id":168,"type":"VAELoader","pos":[132.44624703520444,981.5663662199557],"size":[400.44735510597366,68.93579352141921],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[302,320]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.45","Node name for S&R":"VAELoader","models":[{"name":"wan_2.1_vae.safetensors","url":"https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/vae/wan_2.1_vae.safetensors","directory":"vae"}],"enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["wan_2.1_vae.safetensors"],"color":"#223","bgcolor":"#335"},{"id":167,"type":"CLIPLoader","pos":[114.31562925166874,766.0386588082888],"size":[412.6293723155468,106],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":0,"links":[299,317]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.45","Node name for S&R":"CLIPLoader","models":[{"name":"umt5_xxl_fp8_e4m3fn_scaled.safetensors","url":"https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors","directory":"text_encoders"}],"enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["umt5_xxl_fp8_e4m3fn_scaled.safetensors","wan","default"],"color":"#223","bgcolor":"#335"},{"id":166,"type":"UNETLoader","pos":[117.31012279102478,627.0730722256583],"size":[419.4922249604781,86.02029788492689],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[325]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.45","Node name for S&R":"UNETLoader","models":[{"name":"wan2.2_fun_control_low_noise_14B_fp8_scaled.safetensors","url":"https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/diffusion_models/wan2.2_fun_control_low_noise_14B_fp8_scaled.safetensors","directory":"diffusion_models"}],"enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["wan2.2_fun_control_low_noise_14B_fp8_scaled.safetensors","default"],"color":"#223","bgcolor":"#335"},{"id":165,"type":"UNETLoader","pos":[111.2896526314687,499.1221096365857],"size":[427.4516291906243,82],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[323]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.45","Node name for S&R":"UNETLoader","models":[{"name":"wan2.2_fun_control_high_noise_14B_fp8_scaled.safetensors","url":"https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/diffusion_models/wan2.2_fun_control_high_noise_14B_fp8_scaled.safetensors","directory":"diffusion_models"}],"enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["wan2.2_fun_control_high_noise_14B_fp8_scaled.safetensors","default"],"color":"#223","bgcolor":"#335"},{"id":181,"type":"LoraLoaderModelOnly","pos":[572.9282752245632,497.55910885948464],"size":[459.57844471670796,82],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":323},{"localized_name":"lora_name","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"strength_model","name":"strength_model","type":"FLOAT","widget":{"name":"strength_model"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[332]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"LoraLoaderModelOnly","models":[{"name":"wan2.2_i2v_lightx2v_4steps_lora_v1_high_noise.safetensors","url":"https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/loras/wan2.2_i2v_lightx2v_4steps_lora_v1_high_noise.safetensors","directory":"loras"}],"enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"widget_ue_connectable":{"lora_name":true,"strength_model":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["WAN\\wan2.2_i2v_lightx2v_4steps_lora_v1_high_noise.safetensors",1],"color":"#233","bgcolor":"#355"},{"id":433,"type":"Note","pos":[1060.4477670207095,401.6220421332424],"size":[262.62406986422593,88],"flags":{},"order":14,"mode":0,"inputs":[],"outputs":[],"title":"Sage","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["Enable Sage if you want to run it."],"color":"#222","bgcolor":"#000"},{"id":176,"type":"ModelSamplingSD3","pos":[1372.2633946181882,487.9557055307505],"size":[210,60],"flags":{},"order":34,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":333},{"localized_name":"shift","name":"shift","type":"FLOAT","widget":{"name":"shift"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[303]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.45","Node name for S&R":"ModelSamplingSD3","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[8.000000000000002],"color":"#233","bgcolor":"#355"},{"id":177,"type":"ModelSamplingSD3","pos":[1374.8238036300634,620.6782098270869],"size":[210,58],"flags":{},"order":35,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":334},{"localized_name":"shift","name":"shift","type":"FLOAT","widget":{"name":"shift"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[311]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.45","Node name for S&R":"ModelSamplingSD3","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[8.000000000000002],"color":"#233","bgcolor":"#355"},{"id":298,"type":"GIMMVFI_interpolate","pos":[3714.3584232989683,1053.6637519547337],"size":[270,174],"flags":{},"order":47,"mode":0,"inputs":[{"localized_name":"gimmvfi_model","name":"gimmvfi_model","type":"GIMMVIF_MODEL","link":482},{"localized_name":"images","name":"images","type":"IMAGE","link":783},{"localized_name":"ds_factor","name":"ds_factor","type":"FLOAT","widget":{"name":"ds_factor"},"link":null},{"localized_name":"interpolation_factor","name":"interpolation_factor","type":"INT","widget":{"name":"interpolation_factor"},"link":null},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"output_flows","name":"output_flows","shape":7,"type":"BOOLEAN","widget":{"name":"output_flows"},"link":null}],"outputs":[{"localized_name":"images","name":"images","type":"IMAGE","links":[502]},{"localized_name":"flow_tensors","name":"flow_tensors","type":"IMAGE","links":[]}],"properties":{"cnr_id":"ComfyUI-GIMM-VFI","ver":"4c9a3123762af85e7c796e41737da0b70c75d72d","Node name for S&R":"GIMMVFI_interpolate","ue_properties":{"widget_ue_connectable":{"ds_factor":true,"interpolation_factor":true,"seed":true,"output_flows":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[1,2,149486917003396,"randomize",false],"color":"#232","bgcolor":"#353"},{"id":290,"type":"DownloadAndLoadGIMMVFIModel","pos":[3724.0732476534577,893.2275223223505],"size":[357.3993070705202,106],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"precision","name":"precision","shape":7,"type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"torch_compile","name":"torch_compile","shape":7,"type":"BOOLEAN","widget":{"name":"torch_compile"},"link":null}],"outputs":[{"localized_name":"gimmvfi_model","name":"gimmvfi_model","type":"GIMMVIF_MODEL","links":[482]}],"properties":{"cnr_id":"ComfyUI-GIMM-VFI","ver":"4c9a3123762af85e7c796e41737da0b70c75d72d","Node name for S&R":"DownloadAndLoadGIMMVFIModel","ue_properties":{"widget_ue_connectable":{"model":true,"precision":true,"torch_compile":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["gimmvfi_r_arb_lpips_fp32.safetensors","fp32",false],"color":"#232","bgcolor":"#353"},{"id":329,"type":"RIFE VFI","pos":[3712.1658306228446,574.5050405831146],"size":[349.6578125,198],"flags":{},"order":48,"mode":4,"inputs":[{"localized_name":"frames","name":"frames","type":"IMAGE","link":784},{"localized_name":"optional_interpolation_states","name":"optional_interpolation_states","shape":7,"type":"INTERPOLATION_STATES","link":null},{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null},{"localized_name":"clear_cache_after_n_frames","name":"clear_cache_after_n_frames","type":"INT","widget":{"name":"clear_cache_after_n_frames"},"link":null},{"localized_name":"multiplier","name":"multiplier","type":"INT","widget":{"name":"multiplier"},"link":null},{"localized_name":"fast_mode","name":"fast_mode","type":"BOOLEAN","widget":{"name":"fast_mode"},"link":null},{"localized_name":"ensemble","name":"ensemble","type":"BOOLEAN","widget":{"name":"ensemble"},"link":null},{"localized_name":"scale_factor","name":"scale_factor","type":"COMBO","widget":{"name":"scale_factor"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui-frame-interpolation","ver":"1.0.7","Node name for S&R":"RIFE VFI","ue_properties":{"widget_ue_connectable":{"ckpt_name":true,"clear_cache_after_n_frames":true,"multiplier":true,"fast_mode":true,"ensemble":true,"scale_factor":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["rife47.pth",35,2,false,true,4]},{"id":328,"type":"Note","pos":[4088.381174466094,580.4684572618535],"size":[335.48149989816966,198.6596437096515],"flags":{},"order":9,"mode":0,"inputs":[],"outputs":[],"title":"Quality is subjective","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["I prefer GIMM, it maybe a tiny bit slower, but the quality is better (for my eyes anyway).\n\nIf you want RIFE, then replace this hook up the Image out and connect to the FINAL VIDEO vhs node.\n"],"color":"#222","bgcolor":"#000"},{"id":223,"type":"PreviewImage","pos":[1210.2680750409377,2693.1897450713177],"size":[868.1179254642439,580.6533855921361],"flags":{},"order":44,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":785}],"outputs":[],"title":"Pose Key Frames","properties":{"cnr_id":"comfy-core","ver":"0.3.77","Node name for S&R":"PreviewImage","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[]},{"id":236,"type":"Note","pos":[969.5544397512821,2693.7175971935244],"size":[223.5472993608072,576.8749922788447],"flags":{},"order":11,"mode":0,"inputs":[],"outputs":[],"title":"Pose Key Frames","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["This is a preview on the animation. It is numbered should you decide to do something on a particular keyframe, eg. you might want to start to rotate the openpose or zoom in/out"],"color":"#222","bgcolor":"#000"},{"id":233,"type":"easy showAnything","pos":[-612.1461617699847,1384.59036383269],"size":[687.1648708243239,377.62209089654357],"flags":{},"order":45,"mode":0,"inputs":[{"localized_name":"anything","name":"anything","shape":7,"type":"*","link":394}],"outputs":[{"localized_name":"output","name":"output","type":"*","links":null}],"title":"Frame Info For what is going into WAN","properties":{"cnr_id":"comfyui-easy-use","ver":"1.3.4","Node name for S&R":"easy showAnything","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.4.1"}},"widgets_values":["{\"fbx_file\": \"C:\\\\test\\\\Mixamo\\\\Injured Walk.fbx\", \"frame_indices\": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81], \"frame_start\": 1, \"frame_end\": 164, \"frame_mode\": \"Frame_Range\", \"num_frames\": 81, \"start_frame_arg\": 0, \"end_frame_arg\": 500, \"frame_step\": 1, \"found_joints\": {\"hips\": \"mixamorig:Hips\", \"spine\": \"mixamorig:Spine\", \"chest\": \"mixamorig:Spine2\", \"neck\": \"mixamorig:Neck\", \"head\": \"mixamorig:Head\", \"left_shoulder\": \"mixamorig:LeftShoulder\", \"left_elbow\": \"mixamorig:LeftForeArm\", \"left_wrist\": \"mixamorig:LeftHand\", \"right_shoulder\": \"mixamorig:RightShoulder\", \"right_elbow\": \"mixamorig:RightForeArm\", \"right_wrist\": \"mixamorig:RightHand\", \"left_hip\": \"mixamorig:LeftUpLeg\", \"left_knee\": \"mixamorig:LeftLeg\", \"left_ankle\": \"mixamorig:LeftFoot\", \"right_hip\": \"mixamorig:RightUpLeg\", \"right_knee\": \"mixamorig:RightLeg\", \"right_ankle\": \"mixamorig:RightFoot\", \"left_thumb_base\": \"mixamorig:LeftHandThumb1\", \"left_thumb_tip\": \"mixamorig:LeftHandThumb3\", \"left_index_base\": \"mixamorig:LeftHandIndex1\", \"left_index_tip\": \"mixamorig:LeftHandIndex3\", \"left_middle_base\": \"mixamorig:LeftHandMiddle1\", \"left_middle_tip\": \"mixamorig:LeftHandMiddle3\", \"left_ring_base\": \"mixamorig:LeftHandRing1\", \"left_ring_tip\": \"mixamorig:LeftHandRing3\", \"left_pinky_base\": \"mixamorig:LeftHandPinky1\", \"left_pinky_tip\": \"mixamorig:LeftHandPinky3\", \"right_thumb_base\": \"mixamorig:RightHandThumb1\", \"right_thumb_tip\": \"mixamorig:RightHandThumb3\", \"right_index_base\": \"mixamorig:RightHandIndex1\", \"right_index_tip\": \"mixamorig:RightHandIndex3\", \"right_middle_base\": \"mixamorig:RightHandMiddle1\", \"right_middle_tip\": \"mixamorig:RightHandMiddle3\", \"right_ring_base\": \"mixamorig:RightHandRing1\", \"right_ring_tip\": \"mixamorig:RightHandRing3\", \"right_pinky_base\": \"mixamorig:RightHandPinky1\", \"right_pinky_tip\": \"mixamorig:RightHandPinky3\", \"left_eye\": \"mixamorig:LeftShoulder\", \"right_eye\": \"mixamorig:RightShoulder\", \"left_ear\": \"mixamorig:LeftForeArm\", \"right_ear\": \"mixamorig:RightForeArm\"}, \"missing_joints\": [\"nose\"], \"num_frames_requested\": 81, \"camera_view\": \"Front\", \"projection_mode\": \"Perspective (Experimental)\", \"color_mode\": \"ControlNet Colors\", \"face_mode\": \"Full Face (FACE_70)\", \"output_width\": 768, \"output_height\": 768, \"zoom_factor\": 1.0, \"inplace\": false, \"alignment_mode\": \"Match Full Body\", \"skeleton_style\": \"BODY_25_MATCH_IMAGE\"}"]}],"links":[[299,167,0,162,0,"CLIP"],[301,175,0,164,0,"LATENT"],[302,168,0,164,1,"VAE"],[303,176,0,169,0,"MODEL"],[304,180,0,169,1,"CONDITIONING"],[305,180,1,169,2,"CONDITIONING"],[306,180,2,169,3,"LATENT"],[311,177,0,175,0,"MODEL"],[312,180,0,175,1,"CONDITIONING"],[313,180,1,175,2,"CONDITIONING"],[314,169,0,175,3,"LATENT"],[317,167,0,179,0,"CLIP"],[318,179,0,180,0,"CONDITIONING"],[319,162,0,180,1,"CONDITIONING"],[320,168,0,180,2,"VAE"],[321,178,0,180,3,"IMAGE"],[323,165,0,181,0,"MODEL"],[325,166,0,182,0,"MODEL"],[332,181,0,186,0,"MODEL"],[333,186,0,176,0,"MODEL"],[334,185,0,177,0,"MODEL"],[335,182,0,185,0,"MODEL"],[336,191,0,187,0,"INT"],[337,189,4,188,1,"STRING"],[338,189,3,188,2,"STRING"],[339,187,0,188,18,"STRING"],[340,189,5,190,0,"*"],[349,191,0,188,4,"INT"],[354,191,0,180,7,"INT"],[364,164,0,207,0,"*"],[394,188,1,233,0,"*"],[397,178,0,242,0,"IMAGE"],[398,242,14,188,8,"INT"],[399,242,15,188,9,"INT"],[400,242,14,180,5,"INT"],[401,242,15,180,6,"INT"],[482,290,0,298,0,"GIMMVIF_MODEL"],[502,298,0,184,0,"IMAGE"],[767,422,0,188,0,"IMAGE"],[775,188,0,432,0,"IMAGE"],[776,178,0,432,1,"IMAGE"],[777,242,14,432,2,"INT"],[778,242,15,432,3,"INT"],[779,164,0,432,4,"IMAGE"],[780,242,5,432,5,"INT"],[781,432,0,246,0,"IMAGE"],[782,432,1,212,0,"IMAGE"],[783,432,2,298,1,"IMAGE"],[784,432,2,329,0,"IMAGE"],[785,432,3,223,0,"IMAGE"],[786,432,4,180,4,"IMAGE"],[787,432,5,422,0,"IMAGE"],[788,432,6,428,0,"VIDEO"],[789,187,1,435,0,"*"]],"groups":[{"id":22,"title":"FBX Import to Controlnet by Clivey","bounding":[90.0402672801308,294.6387142278127,4442.246417396884,2349.051027751011],"color":"#3f789e","font_size":24,"flags":{}},{"id":23,"title":"DO NOT TOUCH !!! DO NOT CHANGE ANY VALUES IN THE RED NODE !","bounding":[2385.304850634619,411.1378698681579,1214.1736024165684,614.1018907968901],"color":"#A88","font_size":24,"flags":{}},{"id":24,"title":"Normal WAN stuff","bounding":[102.11188255081233,343.29708516287184,2184.6779003048277,771.662491106716],"color":"#b58b2a","font_size":24,"flags":{}},{"id":25,"title":"FBX Nodes","bounding":[97.07366584563725,1163.8169133260617,1653.6512598338575,1429.582173766813],"color":"#3f789e","font_size":24,"flags":{}},{"id":26,"title":"Previews and Render","bounding":[2232.8153679880998,1243.359005719342,2254.0918692445166,1357.4884131771391],"color":"#3f789e","font_size":24,"flags":{}},{"id":27,"title":"1st Pose","bounding":[959.8179870238234,1981.381775451137,175.3122996257723,111.98813153858964],"color":"#3f789e","font_size":24,"flags":{}}],"definitions":{"subgraphs":[{"id":"f1f4e664-3b51-448b-a930-531bf46dc57b","version":1,"state":{"lastGroupId":27,"lastNodeId":431,"lastLinkId":774,"lastRerouteId":0},"revision":0,"config":{},"name":"New Subgraph","inputNode":{"id":-10,"bounding":[4829.797741854918,1359.3982739677863,120,160]},"outputNode":{"id":-20,"bounding":[6843.090764859232,1349.3982739677863,202.10546875,180]},"inputs":[{"id":"24523a54-d36d-46a0-a0f9-d8e055385571","name":"images","type":"IMAGE","linkIds":[746,747,748,749],"localized_name":"images","pos":[55,20]},{"id":"a67b6aa7-9e51-4da3-a995-e559d65e9e55","name":"image","type":"IMAGE","linkIds":[750,751],"localized_name":"image","pos":[55,40]},{"id":"6a118ebc-dac5-40e1-96ec-cede274e3d8f","name":"width","type":"INT","linkIds":[752,753],"localized_name":"width","pos":[55,60]},{"id":"ea92bd10-b798-4aaa-a37a-d8180a336e27","name":"height","type":"INT","linkIds":[754,755],"localized_name":"height","pos":[55,80]},{"id":"94125fce-039c-488c-bf14-6fe09bfb68a0","name":"images_1","type":"IMAGE","linkIds":[756],"localized_name":"images_1","pos":[55,100]},{"id":"21244537-a163-4342-bd11-d5a3a3ae5760","name":"resolution","type":"INT","linkIds":[757],"localized_name":"resolution","shape":7,"pos":[55,120]}],"outputs":[{"id":"b071da8a-3852-4a37-b66d-cea60591b75b","name":"OpenPose with Background","type":"IMAGE","linkIds":[758],"localized_name":"OpenPose with Background","pos":[20,20]},{"id":"e37807c2-a248-4a61-9558-d8992bad1157","name":"OpenPose with Background_1","type":"IMAGE","linkIds":[759],"localized_name":"OpenPose with Background_1","pos":[20,40]},{"id":"be470633-f484-46bc-8fab-e33f57eb5464","name":"images","type":"IMAGE","linkIds":[762,763],"localized_name":"images","pos":[20,60]},{"id":"536bb3a5-d8ca-4f13-9e62-2d6aa3a2e019","name":"OpenPose only","type":"IMAGE","linkIds":[765],"localized_name":"OpenPose only","pos":[20,80]},{"id":"fc8be7be-7b59-4513-a850-342b65450c6f","name":"IMAGE","type":"IMAGE","linkIds":[766],"localized_name":"IMAGE","pos":[20,100]},{"id":"973db410-f3ab-45f4-b60f-1b3575cd2c61","name":"IMAGE_1","type":"IMAGE","linkIds":[745],"localized_name":"IMAGE_1","pos":[20,120]},{"id":"667d9821-b04e-48e4-be13-f37ba3ef4211","name":"VIDEO","type":"VIDEO","linkIds":[770],"localized_name":"VIDEO","pos":[20,140]}],"widgets":[],"nodes":[{"id":408,"type":"BatchListResize","pos":[5564.3088697509065,900.6476398774329],"size":[270,82],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":738},{"localized_name":"start_index","name":"start_index","type":"INT","widget":{"name":"start_index"},"link":null},{"localized_name":"end_index","name":"end_index","type":"INT","widget":{"name":"end_index"},"link":null}],"outputs":[{"localized_name":"images","name":"images","type":"IMAGE","links":[742]}],"properties":{"Node name for S&R":"BatchListResize","ue_properties":{"widget_ue_connectable":{"start_index":true,"end_index":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[1,-1],"color":"#322","bgcolor":"#533"},{"id":409,"type":"FBX_ImageBatchNumberOverlay","pos":[6412.125362825569,1533.4070488805137],"size":[370.9654020336626,79.32420950740243],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":746},{"localized_name":"background","name":"background","shape":7,"type":"IMAGE","link":739},{"localized_name":"start_index","name":"start_index","type":"INT","widget":{"name":"start_index"},"link":null}],"outputs":[{"localized_name":"OpenPose with Background","name":"OpenPose with Background","type":"IMAGE","links":[758]},{"localized_name":"OpenPose only","name":"OpenPose only","type":"IMAGE","links":[]}],"properties":{"Node name for S&R":"FBX_ImageBatchNumberOverlay","ue_properties":{"widget_ue_connectable":{"start_index":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[1],"color":"#322","bgcolor":"#533"},{"id":410,"type":"Image Resize (rgthree)","pos":[6475.9962722737255,1278.860281178555],"size":[270,194],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":750},{"localized_name":"measurement","name":"measurement","type":"COMBO","widget":{"name":"measurement"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":752},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":754},{"localized_name":"fit","name":"fit","type":"COMBO","widget":{"name":"fit"},"link":null},{"localized_name":"method","name":"method","type":"COMBO","widget":{"name":"method"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[739]},{"localized_name":"WIDTH","name":"WIDTH","type":"INT","links":[]},{"localized_name":"HEIGHT","name":"HEIGHT","type":"INT","links":[]}],"properties":{"cnr_id":"rgthree-comfy","ver":"1.0.2512060053","Node name for S&R":"Image Resize (rgthree)","ue_properties":{"widget_ue_connectable":{"measurement":true,"width":true,"height":true,"fit":true,"method":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["pixels",0,0,"pad","nearest-exact"],"color":"#322","bgcolor":"#533"},{"id":411,"type":"FBX_ImageBatchNumberOverlay","pos":[6404.080069228505,1102.479834361803],"size":[349.77746797301427,79.3242095074022],"flags":{"collapsed":false},"order":8,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":740},{"localized_name":"background","name":"background","shape":7,"type":"IMAGE","link":741},{"localized_name":"start_index","name":"start_index","type":"INT","widget":{"name":"start_index"},"link":null}],"outputs":[{"localized_name":"OpenPose with Background","name":"OpenPose with Background","type":"IMAGE","links":[759]},{"localized_name":"OpenPose only","name":"OpenPose only","type":"IMAGE","links":[]}],"properties":{"Node name for S&R":"FBX_ImageBatchNumberOverlay","ue_properties":{"widget_ue_connectable":{"start_index":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[1],"color":"#322","bgcolor":"#533"},{"id":412,"type":"BatchListResize","pos":[6453.244576328512,957.4374285399242],"size":[270,82],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":756},{"localized_name":"start_index","name":"start_index","type":"INT","widget":{"name":"start_index"},"link":null},{"localized_name":"end_index","name":"end_index","type":"INT","widget":{"name":"end_index"},"link":null}],"outputs":[{"localized_name":"images","name":"images","type":"IMAGE","links":[741,762,763]}],"properties":{"Node name for S&R":"BatchListResize","ue_properties":{"widget_ue_connectable":{"start_index":true,"end_index":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[1,-1],"color":"#322","bgcolor":"#533"},{"id":413,"type":"Note","pos":[6462.767978354908,804.2148108190239],"size":[257.88016467446505,88],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"title":"BatchListResize Node","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["Basically removes the first frame which was the A-Pose and resets the batch size."],"color":"#222","bgcolor":"#000"},{"id":414,"type":"Note","pos":[5930.170022716311,1564.236974621427],"size":[210,250.1357323303247],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"title":"DWPose Estimator Pose","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["This DWPose Estimator Pose is not actually used in the WAN video. Its purpose is to allow the FBX_Extractor determine the scale of the person in the refernce image and use that a \"1.0\" scale reference for the anuimation.\n\nTHe Preview node is just here so you can see whats going on."],"color":"#222","bgcolor":"#000"},{"id":415,"type":"Note","pos":[5009.797741854918,1225.3338158791146],"size":[296.1321391130622,265.096197593499],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"title":"FBX_Image Batch Number Overlays","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["This is the node that controls the numbering system over the keyframe.\nInputs:\nImages: Typically this is connect from the Pose_Images out from the FBX_Extraction node and is the pose key frames\nBackground. This will take the final video images.\n\nOutputs: \nOpenPose only: This will output the Images input but with the frame number overlayed.\nOpenpose with Backgound. This will overlay the Openpose 'stickman' over the final video and key frame it. THis is useful as you can see exactly what frame you might want to alter somethings. You need to consider this almost like an editor help."],"color":"#222","bgcolor":"#000"},{"id":417,"type":"FBX_ImageBatchNumberOverlay","pos":[5047.677190995657,1076.016743371999],"size":[265.1046135384123,78],"flags":{"collapsed":false},"order":11,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":747},{"localized_name":"background","name":"background","shape":7,"type":"IMAGE","link":null},{"localized_name":"start_index","name":"start_index","type":"INT","widget":{"name":"start_index"},"link":null}],"outputs":[{"localized_name":"OpenPose with Background","name":"OpenPose with Background","type":"IMAGE","links":[]},{"localized_name":"OpenPose only","name":"OpenPose only","type":"IMAGE","links":[765]}],"properties":{"Node name for S&R":"FBX_ImageBatchNumberOverlay","ue_properties":{"widget_ue_connectable":{"start_index":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[1],"color":"#322","bgcolor":"#533"},{"id":418,"type":"ReplaceImagesInBatch","pos":[5914.631899210145,1230.309713563456],"size":[247.01737058044796,139.88830151490424],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"original_images","name":"original_images","shape":7,"type":"IMAGE","link":748},{"localized_name":"replacement_images","name":"replacement_images","shape":7,"type":"IMAGE","link":743},{"localized_name":"original_masks","name":"original_masks","shape":7,"type":"MASK","link":null},{"localized_name":"replacement_masks","name":"replacement_masks","shape":7,"type":"MASK","link":null},{"localized_name":"start_index","name":"start_index","type":"INT","widget":{"name":"start_index"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[738,766]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.9","Node name for S&R":"ReplaceImagesInBatch","ue_properties":{"widget_ue_connectable":{"start_index":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[0],"color":"#322","bgcolor":"#533"},{"id":419,"type":"Note","pos":[5899.80531190433,1870.6227848048784],"size":[505.8610857650377,233.95895231167026],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"title":"A-Pose Image: NEVER CHANGE THIS !!","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["NEVER CHANGE THIS IMAGE. The purpose of this image is to set the first frame to an A-Pose. This is important because if the 1st frame of the animation is too small, you will end up with 2 identical people on the screen, one form your reference image and one from the animation or the animation will start to ghost in the original pose in the ref image.\n\nIf the PoseEstimater keeps failing its because it cannot detect a person. If you are 100% sure that the Estimator is at fault, then g hook up the load image to the image In on the Estimator Node. USE the APose OpenPose image fom the Images folder in the custom node folder"],"color":"#322","bgcolor":"#533"},{"id":420,"type":"Note","pos":[5359.69205016219,1222.3311360508326],"size":[355.788671875,105.05398417281299],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"title":"Replace Images In Batch:  NEVER CHANGE THIS","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["EVER CHANGE THIS SETTING: The purpose of this is to remove the first frame and replace with the Apose Frame\n"],"color":"#222","bgcolor":"#000"},{"id":421,"type":"Image Resize (rgthree)","pos":[5479.928426362597,1430.352373714094],"size":[270,194],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":744},{"localized_name":"measurement","name":"measurement","type":"COMBO","widget":{"name":"measurement"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":753},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":755},{"localized_name":"fit","name":"fit","type":"COMBO","widget":{"name":"fit"},"link":null},{"localized_name":"method","name":"method","type":"COMBO","widget":{"name":"method"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[743]},{"localized_name":"WIDTH","name":"WIDTH","type":"INT","links":[]},{"localized_name":"HEIGHT","name":"HEIGHT","type":"INT","links":[]}],"properties":{"cnr_id":"rgthree-comfy","ver":"1.0.2512060053","Node name for S&R":"Image Resize (rgthree)","ue_properties":{"widget_ue_connectable":{"measurement":true,"width":true,"height":true,"fit":true,"method":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["pixels",0,0,"pad","nearest-exact"],"color":"#322","bgcolor":"#533"},{"id":423,"type":"DWPreprocessor","pos":[5085.072880845939,1620.424904793339],"size":[353.60037545775435,222],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":751},{"localized_name":"detect_hand","name":"detect_hand","shape":7,"type":"COMBO","widget":{"name":"detect_hand"},"link":null},{"localized_name":"detect_body","name":"detect_body","shape":7,"type":"COMBO","widget":{"name":"detect_body"},"link":null},{"localized_name":"detect_face","name":"detect_face","shape":7,"type":"COMBO","widget":{"name":"detect_face"},"link":null},{"localized_name":"resolution","name":"resolution","shape":7,"type":"INT","widget":{"name":"resolution"},"link":757},{"localized_name":"bbox_detector","name":"bbox_detector","shape":7,"type":"COMBO","widget":{"name":"bbox_detector"},"link":null},{"localized_name":"pose_estimator","name":"pose_estimator","shape":7,"type":"COMBO","widget":{"name":"pose_estimator"},"link":null},{"localized_name":"scale_stick_for_xinsr_cn","name":"scale_stick_for_xinsr_cn","shape":7,"type":"COMBO","widget":{"name":"scale_stick_for_xinsr_cn"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[744,745]},{"localized_name":"POSE_KEYPOINT","name":"POSE_KEYPOINT","type":"POSE_KEYPOINT","links":[]}],"properties":{"cnr_id":"comfyui_controlnet_aux","ver":"1.1.3","Node name for S&R":"DWPreprocessor","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.4.1"}},"widgets_values":["enable","enable","enable",1024,"yolo_nas_l_fp16.onnx","dw-ll_ucoco_384_bs5.torchscript.pt","disable"],"color":"#322","bgcolor":"#533"},{"id":424,"type":"BatchListResize","pos":[5994.048406705839,933.9785860745774],"size":[270,82],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":749},{"localized_name":"start_index","name":"start_index","type":"INT","widget":{"name":"start_index"},"link":null},{"localized_name":"end_index","name":"end_index","type":"INT","widget":{"name":"end_index"},"link":null}],"outputs":[{"localized_name":"images","name":"images","type":"IMAGE","links":[740]}],"properties":{"Node name for S&R":"BatchListResize","ue_properties":{"widget_ue_connectable":{"start_index":true,"end_index":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[1,-1],"color":"#322","bgcolor":"#533"},{"id":416,"type":"FBX_ImageBatchNumberOverlay","pos":[5518.742219158798,1054.2881914791992],"size":[370.9654020336626,79.32420950740243],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":742},{"localized_name":"background","name":"background","shape":7,"type":"IMAGE","link":null},{"localized_name":"start_index","name":"start_index","type":"INT","widget":{"name":"start_index"},"link":null}],"outputs":[{"localized_name":"OpenPose with Background","name":"OpenPose with Background","type":"IMAGE","links":[]},{"localized_name":"OpenPose only","name":"OpenPose only","type":"IMAGE","links":[768]}],"properties":{"Node name for S&R":"FBX_ImageBatchNumberOverlay","ue_properties":{"widget_ue_connectable":{"start_index":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[1],"color":"#322","bgcolor":"#533"},{"id":426,"type":"CreateVideo","pos":[5954.53015045556,1081.4582748964428],"size":[270,78],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":768},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"fps","name":"fps","type":"FLOAT","widget":{"name":"fps"},"link":null}],"outputs":[{"localized_name":"VIDEO","name":"VIDEO","type":"VIDEO","links":[770]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.77","Node name for S&R":"CreateVideo","ue_properties":{"widget_ue_connectable":{"fps":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[16]}],"groups":[],"links":[{"id":738,"origin_id":418,"origin_slot":0,"target_id":408,"target_slot":0,"type":"IMAGE"},{"id":739,"origin_id":410,"origin_slot":0,"target_id":409,"target_slot":1,"type":"IMAGE"},{"id":740,"origin_id":424,"origin_slot":0,"target_id":411,"target_slot":0,"type":"IMAGE"},{"id":741,"origin_id":412,"origin_slot":0,"target_id":411,"target_slot":1,"type":"IMAGE"},{"id":743,"origin_id":421,"origin_slot":0,"target_id":418,"target_slot":1,"type":"IMAGE"},{"id":744,"origin_id":423,"origin_slot":0,"target_id":421,"target_slot":0,"type":"IMAGE"},{"id":742,"origin_id":408,"origin_slot":0,"target_id":416,"target_slot":0,"type":"IMAGE"},{"id":768,"origin_id":416,"origin_slot":1,"target_id":426,"target_slot":0,"type":"IMAGE"},{"id":746,"origin_id":-10,"origin_slot":0,"target_id":409,"target_slot":0,"type":"IMAGE"},{"id":747,"origin_id":-10,"origin_slot":0,"target_id":417,"target_slot":0,"type":"IMAGE"},{"id":748,"origin_id":-10,"origin_slot":0,"target_id":418,"target_slot":0,"type":"IMAGE"},{"id":749,"origin_id":-10,"origin_slot":0,"target_id":424,"target_slot":0,"type":"IMAGE"},{"id":750,"origin_id":-10,"origin_slot":1,"target_id":410,"target_slot":0,"type":"IMAGE"},{"id":751,"origin_id":-10,"origin_slot":1,"target_id":423,"target_slot":0,"type":"IMAGE"},{"id":752,"origin_id":-10,"origin_slot":2,"target_id":410,"target_slot":2,"type":"INT"},{"id":753,"origin_id":-10,"origin_slot":2,"target_id":421,"target_slot":2,"type":"INT"},{"id":754,"origin_id":-10,"origin_slot":3,"target_id":410,"target_slot":3,"type":"INT"},{"id":755,"origin_id":-10,"origin_slot":3,"target_id":421,"target_slot":3,"type":"INT"},{"id":756,"origin_id":-10,"origin_slot":4,"target_id":412,"target_slot":0,"type":"IMAGE"},{"id":757,"origin_id":-10,"origin_slot":5,"target_id":423,"target_slot":4,"type":"INT"},{"id":758,"origin_id":409,"origin_slot":0,"target_id":-20,"target_slot":0,"type":"IMAGE"},{"id":759,"origin_id":411,"origin_slot":0,"target_id":-20,"target_slot":1,"type":"IMAGE"},{"id":762,"origin_id":412,"origin_slot":0,"target_id":-20,"target_slot":2,"type":"IMAGE"},{"id":763,"origin_id":412,"origin_slot":0,"target_id":-20,"target_slot":2,"type":"IMAGE"},{"id":765,"origin_id":417,"origin_slot":1,"target_id":-20,"target_slot":3,"type":"IMAGE"},{"id":766,"origin_id":418,"origin_slot":0,"target_id":-20,"target_slot":4,"type":"IMAGE"},{"id":745,"origin_id":423,"origin_slot":0,"target_id":-20,"target_slot":5,"type":"IMAGE"},{"id":770,"origin_id":426,"origin_slot":0,"target_id":-20,"target_slot":6,"type":"VIDEO"}],"extra":{"ue_links":[],"links_added_by_ue":[],"workflowRendererVersion":"LG"}}]},"config":{},"extra":{"ds":{"scale":1.4864362802416347,"offset":[818.9316111510828,-1041.1677138341538]},"frontendVersion":"1.26.2","VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true,"ue_links":[],"links_added_by_ue":[],"workflowRendererVersion":"LG"},"version":0.4}